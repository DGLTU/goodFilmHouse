import{N as f}from"./NavigationBar-86ffc728.js";import{H as S}from"./HeroSection-6604c329.js";import{_ as k,F as V}from"./FooterSection-a061a99e.js";import{D as x,C as D,e as N,o as i,g as l,i as u,a as t,F as d,h as p,t as n,J as T,p as F,d as I,b as $}from"./index-fd81febc.js";import{g as b}from"./api-c595d621.js";const w=r=>(F("data-v-06657c99"),r=r(),I(),r),A=w(()=>t("div",{class:"titles"},[t("h1",null,[t("i",{class:"line"}),$("今日電影"),t("i",{class:"line"})]),t("h4",null,"Today's Movie")],-1)),B={class:"today"},C=["src"],E={class:"movie-detail"},L={class:"movie-text"},M={class:"movie-showtime"},H=["onClick"],J={__name:"TodayView",setup(r){const m=x(),v=D(),a=N();async function h(){a.value=await b("today"),a.value=a.value.data;const c=new Set(null);a.value.forEach(o=>{o.showtimeList.forEach(e=>{e.date==="today"&&c.add(o)})}),a.value=[...c]}function g(c){const o=new Date,e=o.getFullYear(),s=o.getMonth()+1,_=o.getDate();m.$patch({movie:a.value.filter(y=>y.id===c.movieId)[0],movieDate:`${e}/${s}/${_}`,movieTime:c}),v.push("/ticketSelect")}return h(),(c,o)=>(i(),l(d,null,[u(f),u(S),A,t("div",B,[(i(!0),l(d,null,p(a.value,e=>(i(),l("div",{class:"movie",key:e.id},[t("img",{src:e.pictureUrls[0],alt:"",class:"movie-img img-center"},null,8,C),t("div",E,[t("div",L,[t("p",null,n(e.title),1),t("span",null,n(e["title-english"]),1),t("span",null,n(e.length.hours)+" 小時"+n(e.length.min===0?"00":e.length.min)+"分",1),t("span",null,n(e.grade),1)]),t("div",M,[(i(!0),l(d,null,p(e.showtimeList,s=>(i(),l(d,{key:s.id},[s.date==="today"?(i(),l("button",{key:0,type:"button",class:"btn-danger-sm",onClick:_=>g(s)},n(s.startAt.hour)+" :"+n(s.startAt.second===0?"00":s.startAt.second),9,H)):T("",!0)],64))),128))])])]))),128))]),u(V)],64))}},q=k(J,[["__scopeId","data-v-06657c99"]]);export{q as default};
