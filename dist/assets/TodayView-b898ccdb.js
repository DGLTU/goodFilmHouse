import{N as f}from"./NavigationBar-96632302.js";import{H as S}from"./HeroSection-69cc859d.js";import{_ as k,F as V}from"./FooterSection-da8de357.js";import{C as x,B as I,e as N,o as i,g as l,i as u,a as t,F as d,h as p,t as n,I as T,p as B,d as D,b as F}from"./index-9c4cb3ea.js";import{g as $}from"./api-c595d621.js";const b=r=>(B("data-v-06657c99"),r=r(),D(),r),w=b(()=>t("div",{class:"titles"},[t("h1",null,[t("i",{class:"line"}),F("今日電影"),t("i",{class:"line"})]),t("h4",null,"Today's Movie")],-1)),A={class:"today"},C=["src"],E={class:"movie-detail"},L={class:"movie-text"},M={class:"movie-showtime"},H=["onClick"],O={__name:"TodayView",setup(r){const m=x(),v=I(),a=N();async function h(){a.value=await $("today"),a.value=a.value.data;const c=new Set(null);a.value.forEach(o=>{o.showtimeList.forEach(e=>{e.date==="today"&&c.add(o)})}),a.value=[...c]}function g(c){const o=new Date,e=o.getFullYear(),s=o.getMonth()+1,_=o.getDate();m.$patch({movie:a.value.filter(y=>y.id===c.movieId)[0],movieDate:`${e}/${s}/${_}`,movieTime:c}),v.push("/ticketSelect")}return h(),(c,o)=>(i(),l(d,null,[u(f),u(S),w,t("div",A,[(i(!0),l(d,null,p(a.value,e=>(i(),l("div",{class:"movie",key:e.id},[t("img",{src:e.pictureUrls[0],alt:"",class:"movie-img img-center"},null,8,C),t("div",E,[t("div",L,[t("p",null,n(e.title),1),t("span",null,n(e["title-english"]),1),t("span",null,n(e.length.hours)+" 小時"+n(e.length.min===0?"00":e.length.min)+"分",1),t("span",null,n(e.grade),1)]),t("div",M,[(i(!0),l(d,null,p(e.showtimeList,s=>(i(),l(d,{key:s.id},[s.date==="today"?(i(),l("button",{key:0,type:"button",class:"btn-danger-sm",onClick:_=>g(s)},n(s.startAt.hour)+" :"+n(s.startAt.second===0?"00":s.startAt.second),9,H)):T("",!0)],64))),128))])])]))),128))]),u(V)],64))}},z=k(O,[["__scopeId","data-v-06657c99"]]);export{z as default};
