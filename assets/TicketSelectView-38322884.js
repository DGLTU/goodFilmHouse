import{C as $,s as I,B as q,o as u,g as c,a as t,u as e,b as g,t as o,F as f,h as F,I as N,i as B,E as U,G as k,J as r,p as A,d as D,H as E}from"./index-9e6b04ff.js";import{_ as j,F as G}from"./FooterSection-43349dc1.js";const n=i=>(A("data-v-0f552667"),i=i(),D(),i),H={class:"ticketSelect"},L=n(()=>t("header",null,[t("div",{class:"mt-8 logo"},[g(" FILM HOUSE "),t("span",null,"好窩！電影之家")]),t("div",{class:"mt-4 progress"},[t("ul",null,[t("li",null,"選擇票種"),t("li",null,"選擇位置"),t("li",null,"確認訂單"),t("li",null,"訂單完成")])])],-1)),M={class:"mt-4 movie"},O=["src"],P={class:"movie-text"},R={class:"movieGrade"},J={class:"flex justify-end"},Q={class:"mt-4 px-2 py-1 inline-block rounded shadow-lg bg-red-800 text-white"},z={class:"my-4 table-wrap"},K=n(()=>t("thead",null,[t("tr",null,[t("th",null,"票種"),t("th",null,"價格"),t("th",null,"數量"),t("th",null,"合計")])],-1)),W=["onUpdate:modelValue","onChange"],X=E('<option value="0" data-v-0f552667>0</option><option value="1" data-v-0f552667>1</option><option value="2" data-v-0f552667>2</option><option value="3" data-v-0f552667>3</option><option value="4" data-v-0f552667>4</option><option value="5" data-v-0f552667>5</option><option value="6" data-v-0f552667>6</option><option value="7" data-v-0f552667>7</option><option value="8" data-v-0f552667>8</option><option value="9" data-v-0f552667>9</option><option value="10" data-v-0f552667>10</option>',11),Y=[X],Z=n(()=>t("th",null,null,-1)),tt=n(()=>t("th",null,null,-1)),et=n(()=>t("th",null,"小計",-1)),ot=n(()=>t("th",null,null,-1)),lt=n(()=>t("th",null,null,-1)),nt=n(()=>t("th",null,"優惠折扣",-1)),st=n(()=>t("th",null,null,-1)),at=n(()=>t("th",null,null,-1)),it=n(()=>t("th",{class:"bg-grey-light"},"合計",-1)),dt={class:"bg-grey-light font-extrabold"},ut={class:"flex justify-end my-8"},ct={__name:"TicketSelectView",setup(i){const _=$(),{movie:s,movieTime:a,movieDate:y,handleCount:b,addToCart:S}=_,{tickets:p,discount:x,originTotalPrice:V,totalPrice:h}=I(_),w=q();function C(v,d,l){_.$patch({tickets:p}),b(),S(v,d,l)}function T(){w.push("/seatsSelect")}return(v,d)=>(u(),c(f,null,[t("div",H,[L,t("div",M,[t("img",{src:e(s).pictureUrls[0],alt:"",class:"img-center"},null,8,O),t("div",P,[t("h2",null,[g(o(e(s).title)+" ",1),t("span",null,o(e(s).length.hours)+"小時"+o(e(s).length.min)+"分",1),t("span",R,o(e(s).grade),1)]),t("p",null,"日期："+o(e(y)),1),t("p",null," 時間："+o(e(a).startAt.hour)+" : "+o(e(a).startAt.second===0?"00":e(a).startAt.second),1)])]),t("div",J,[t("span",Q,"尚有 "+o(e(a).seatQty-e(a).booked.length)+" 個座位",1)]),t("div",z,[t("table",null,[K,t("tbody",null,[(u(!0),c(f,null,F(e(p),l=>(u(),c("tr",{key:l},[t("td",null,o(l.name),1),t("td",null,"$"+o(l.price),1),t("td",null,[U(t("select",{class:"w-2/3",name:"qty",id:"","onUpdate:modelValue":m=>l.qty=m,onChange:m=>C(l.name,l.qty,l.price)},Y,40,W),[[k,l.qty,void 0,{number:!0}]])]),t("td",null,"$"+o(e(r)(l.qty*l.price)),1)]))),128))]),t("tfoot",null,[t("tr",null,[Z,tt,et,t("td",null,"$"+o(e(r)(e(V))),1)]),t("tr",null,[ot,lt,nt,t("td",null,"-$"+o(e(r)(e(x))),1)]),t("tr",null,[st,at,it,t("td",dt," $"+o(e(r)(e(h)))+"元 ",1)])])])]),t("div",ut,[e(h)!==0?(u(),c("button",{key:0,class:"mb-4 btn-primary",type:"button",onClick:d[0]||(d[0]=l=>T())}," 下一步 ")):N("",!0)])]),B(G)],64))}},pt=j(ct,[["__scopeId","data-v-0f552667"]]);export{pt as default};
